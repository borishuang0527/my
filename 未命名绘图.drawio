<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36" border="50" scale="3" compressed="false" locked="false" version="24.8.0">
  <diagram name="Blank" id="YmL12bMKpDGza6XwsDPr">
    <mxGraphModel dx="1450" dy="530" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="1" shadow="0">
      <root>
        <mxCell id="X5NqExCQtvZxIxQ7pmgY-0" />
        <mxCell id="1" parent="X5NqExCQtvZxIxQ7pmgY-0" />
        <mxCell id="e0NfMve8crzXOIm3tzwG-2" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="196" y="317" width="25" height="297" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-3" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="637" y="314" width="24" height="322" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-4" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="347" y="314" width="25" height="301" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-7" value="用户" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="-95" y="244" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-8" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="1" source="e0NfMve8crzXOIm3tzwG-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-22" y="359.5" as="sourcePoint" />
            <mxPoint x="175" y="359.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-9" value="登录：用户密码、验证码、扫码等" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-49" y="330" width="202" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-11" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-89" y="645" as="sourcePoint" />
            <mxPoint x="-84" y="329" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-58" value="Text" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="e0NfMve8crzXOIm3tzwG-11" vertex="1" connectable="0">
          <mxGeometry x="-0.8508" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-12" value="综合平台门户" style="text;strokeColor=#d6b656;align=center;fillColor=#fff2cc;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="147" y="255" width="128" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-13" value="综合平台认证" style="text;strokeColor=#d6b656;align=center;fillColor=#fff2cc;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="304" y="255" width="132" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-14" value="第三方平台" style="text;strokeColor=#d6b656;align=center;fillColor=#fff2cc;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="551" y="255" width="187" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-15" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="236" y="356" as="sourcePoint" />
            <mxPoint x="340" y="356" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-16" value="认证" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="224" y="332" width="106" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-26" value="建立会话" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="407" y="364" width="63" height="28" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-32" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="337" y="400" as="sourcePoint" />
            <mxPoint x="236" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-33" value="返回首页" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="221" y="372" width="119" height="40" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="375" y="356" as="sourcePoint" />
            <mxPoint x="375" y="399" as="targetPoint" />
            <Array as="points">
              <mxPoint x="373" y="356" />
              <mxPoint x="410" y="356" />
              <mxPoint x="410" y="401" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="192" y="400" as="sourcePoint" />
            <mxPoint x="192" y="441" as="targetPoint" />
            <Array as="points">
              <mxPoint x="165" y="400" />
              <mxPoint x="165" y="441" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-41" value="点击跳转第三方系统" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="83" y="405" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-42" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;exitX=0.043;exitY=0.973;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="e0NfMve8crzXOIm3tzwG-43" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="270" y="440" as="sourcePoint" />
            <mxPoint x="630" y="442" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-43" value="1.跳转第三方系统redirectUrl页面，并返回授权码code给第三方" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="377" y="412" width="263" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677" y="554" as="sourcePoint" />
            <mxPoint x="677" y="597" as="targetPoint" />
            <Array as="points">
              <mxPoint x="707" y="554" />
              <mxPoint x="707" y="597" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-46" value="2.第三方系统携带code，clientId,clientSecret,redirectUrl认证，换取token" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="392" y="477" width="221" height="16" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="342" y="474" as="sourcePoint" />
            <mxPoint x="342" y="523" as="targetPoint" />
            <Array as="points">
              <mxPoint x="342" y="474" />
              <mxPoint x="308" y="474" />
              <mxPoint x="308" y="523" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-51" value="验证code" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="254" y="486" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-53" value="3.携带token，获取用户信息" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="432" y="552" width="163" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-54" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="389.25" y="507.5" as="sourcePoint" />
            <mxPoint x="630.25" y="507.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-56" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;dashed=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="576.5" as="sourcePoint" />
            <mxPoint x="630" y="576.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-57" value="根据用户信息，执行第三方系统逻辑" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="718" y="562" width="102" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-59" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="630" y="621" as="sourcePoint" />
            <mxPoint x="-60" y="628" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-60" value="跳转第三方系统页面" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="205" y="628" width="187" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-61" value="颁发token" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="405" y="502" width="187" height="30" as="geometry" />
        </mxCell>
        <mxCell id="e0NfMve8crzXOIm3tzwG-62" value="返回用信息" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="398" y="572" width="187" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XWB5sGdq6GC4tunxpNrE-1" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="227" y="443" as="sourcePoint" />
            <mxPoint x="339" y="443" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XWB5sGdq6GC4tunxpNrE-2" value="验证第三方地址" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="254" y="412" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="udewBWR9jGqcUeSSQTjH-1" value="第三方url中执行步骤：&lt;div&gt;步骤一：访问sso统一认证系统接口，携带client_id等信息，换取授权码code。&lt;br&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;nbsp;示例：1.http://www.sssserver:8600/xxl-sso-server/oauth-server/authorize?response_type=code&amp;amp;redirect_uri=http://www.othersystem.com/index&amp;amp;client_id=client1&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;步骤二：携带1中的code，以及其他必要信息换取token&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;示例：2.http://www.sssserver:8600/xxl-sso-server/oauth-server/accessToken，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;POST提交如下数据：client_id= client1 &amp;amp; client_secret=&lt;span style=&quot;background-color: initial;&quot;&gt;d834...&amp;amp;grant_type=authorization_code&amp;amp;code=828...&amp;amp;redirect_uri=&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;http://www.othersystem.com/index&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;步骤三：携带token访问用户信息&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;示例：3.http://www.sssserver:8600/xxl-sso-server/oauth-server/userInfo?access_token=a4fecea35f5e40f63f1a61918bf7c8f7&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-91" y="680" width="931" height="165" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
